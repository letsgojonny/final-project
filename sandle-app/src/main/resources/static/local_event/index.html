<!DOCTYPE html>
<!--
	Dopetrope by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <title>SANDLE - 산들산들</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="../assets/css/main.css" />
  </head>
  <body class="homepage is-preload">
    <div id="page-wrapper">
      <!-- Header -->
      <section id="header">
        <!-- Logo -->
        <h1><a href="../index.html">SANDLE</a></h1>

        <div id="login">
          <a href="auth/login_form.html">LOGIN</a>
        </div>
        <div id="logout">
          <a><span id="username"></span></a>
          <a href="" onclick="logout(); return false;"> (LOGOUT2) </a>
        </div>
        <div id="sign-up"><a href="member/member.html">SIGN UP</a></div>

        <!-- Nav -->
        <nav id="nav">
          <ul>
            <li class="current">
              <a href="../index.html">산들 소개</a>
              <ul>
                <ol>
                  산들 소개
                </ol>
                <li><a href="#">산들산들을 소개합니다.</a></li>
                <li><a href="#">제작 동기</a></li>
              </ul>
            </li>

            <li>
              <a href="#">전국 등산로 정보</a>
              <ul>
                <ol>
                  전국 등산로 정보
                </ol>
                <li><a href="#">지역별 산 정보</a></li>
                <li><a href="#">높이별 산 정보</a></li>
              </ul>
            </li>

            <li>
              <a href="left-sidebar.html">산악 소식</a>
              <ul>
                <ol>
                  산악 소식
                </ol>
                <li><a href="#">공지 사항</a></li>
                <li><a href="#">산들 뉴스</a></li>
                <li><a href="#">지역 행사 정보</a></li>
                <li><a href="#">이벤트</a></li>
              </ul>
            </li>
            <li>
              <a href="right-sidebar.html">커뮤니티</a>
              <ul>
                <ol>
                  커뮤니티
                </ol>
                <li><a href="#">포토 피드</a></li>
                <li><a href="#">맛집 피드</a></li>
                <li><a href="#">등산 일지</a></li>
                <li><a href="#">1:1 문의</a></li>
              </ul>
            </li>
            <li><a href="no-sidebar.html">No Sidebar</a></li>
          </ul>
        </nav>

        <!-- Intro -->
      </section>

      <div>
        <a href="form.html">지역행사 추가하기</a>
        <table id="local-table" border="1">
          <thead>
            <tr>
              <th>번호</th>
              <th>제목</th>
              <th>내용</th>
              <th>닉네임</th>
              <th>태그명</th>
              <th>작성일</th>
              <th>기간</th>
              <th>우편주소</th>
              <th>기본주소</th>
              <th>상세주소</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <form action="list" method="get">
          <input type="text" name="keyword" value="" />
          <button>검색</button>
        </form>
      </div>

      <!-- Footer -->
      <section id="footer">
        <div class="container">
          <div class="row">
            <div class="col-4">
              <header>
                <h2>SANDLE</h2>
              </header>
            </div>
            <div class="col-4">
              <header>
                <h3>creater</h3>
                <a href="#">팀장:서영훈 | tel:010-2232-2939</a><br />
                <a href="#">조원:안진수 | tel:010-2809-8596</a><br />
                <a href="#">조원:김종현 | tel:010-4006-5204</a><br />
                <a href="#">조원:이건형 | tel:010-8926-1003</a><br />
                <a href="#">조원:박경한 | tel:010-3163-2105</a>
              </header>
            </div>
            <div class="col-4 col-12-medium">
              <section>
                <h2>Github 주소</h2>
                <br />
                <ul class="social">
                  <li>
                    <a class="icon brands fa-github" href="#"></a>
                  </li>
                  <li>
                    <a class="icon brands fa-github" href="#"></a>
                  </li>
                  <li>
                    <a class="icon brands fa-github" href="#"></a>
                  </li>
                  <li>
                    <a class="icon brands fa-github" href="#"></a>
                  </li>
                  <li>
                    <a class="icon brands fa-github" href="#"></a>
                  </li>
                </ul>
                <ul class="contact">
                  <li>
                    <h3>Mail</h3>
                    <p><a href="#">darktemi@nate.com</a></p>
                  </li>
                </ul>
              </section>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/jquery.dropotron.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>

    <script id="tr-template" type="text/x-handlebars-template">
      {{#each this}}
        <tr>
          <td>{{no}}</td>
          <td><a href="view.html?no={{no}}">
              {{#if title}}{{title}}{{else}}제목없음{{/if}}</a></td>
          <td>{{content}}</td>
          <td>{{nickname}}</td>
          <td>{{tag}}</td>
          <td>{{createdDate}}</td>
          <td>{{period}}</td>
          <td>{{postno}}</td>
          <td>{{basicAddress}}</td>
          <td>{{detailAddress}}</td>
        </tr>
      {{/each}}
    </script>

    <script>
      // 템플릿으로 사용할 HTML을 준비한다.
      const html = document.querySelector("#tr-template").innerHTML;

      // HTML을 가지고 템플릿 엔진을 생성한다.
      const templateEngine = Handlebars.compile(html);

      fetch("../locals")
        .then((response) => {
          return response.json();
          // json()은 Promise 객체를 리턴한다.
          // Promise 객체가 하는 일:
          //   - 서버에서 응답 콘텐트를 받는 일을 한다.
          //   - 서버에서 받은 JSON 포맷의 문자열을 JavaScript 객체로 변환한다.
          //   - resolve()를 호출하여 다음 Promise 객체에 작업이 완료됐음을 통지한다.
          //     이때 변환된 JavaScript를 객체를 파라미터로 전달한다.
        })
        .then((result) => {
          document.querySelector("#local-table > tbody").innerHTML =
            templateEngine(result.data);
        });
    </script>
  </body>
</html>
